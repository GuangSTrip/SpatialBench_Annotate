<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YouTubeè§†é¢‘æ’­æ”¾æµ‹è¯•</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        .video-container {
            margin: 20px 0;
            border: 1px solid #ccc;
            padding: 20px;
        }
        video {
            width: 100%;
            max-width: 600px;
            height: auto;
        }
        .error-info {
            background: #f8d7da;
            color: #721c24;
            padding: 10px;
            border-radius: 4px;
            margin: 10px 0;
        }
        .success-info {
            background: #d4edda;
            color: #155724;
            padding: 10px;
            border-radius: 4px;
            margin: 10px 0;
        }
    </style>
</head>
<body>
    <h1>ğŸ§ª YouTubeè§†é¢‘æ’­æ”¾æµ‹è¯•</h1>
    
    <div class="video-container">
        <h3>æµ‹è¯•1: ç›´æ¥ä½¿ç”¨video.src</h3>
        <video id="video1" controls preload="metadata">
            <source src="/static/videos/test_dataset/test_youtube/test_youtube_youtube.mp4" type="video/mp4">
            æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒè§†é¢‘æ’­æ”¾ã€‚
        </video>
        <div id="status1"></div>
    </div>
    
    <div class="video-container">
        <h3>æµ‹è¯•2: ä½¿ç”¨sourceå…ƒç´ </h3>
        <video id="video2" controls preload="metadata">
            <source src="/static/videos/test_dataset/test_youtube/test_youtube_youtube.mp4" type="video/mp4">
            æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒè§†é¢‘æ’­æ”¾ã€‚
        </video>
        <div id="status2"></div>
    </div>
    
    <div class="video-container">
        <h3>æµ‹è¯•3: JavaScriptåŠ¨æ€åˆ›å»º</h3>
        <div id="video3-container"></div>
        <div id="status3"></div>
    </div>
    
    <script>
        // æµ‹è¯•1: ç›´æ¥ä½¿ç”¨video.src
        const video1 = document.getElementById('video1');
        const status1 = document.getElementById('status1');
        
        video1.addEventListener('loadstart', () => {
            status1.innerHTML = '<div class="success-info">ğŸ”„ è§†é¢‘å¼€å§‹åŠ è½½</div>';
        });
        
        video1.addEventListener('loadedmetadata', () => {
            status1.innerHTML = '<div class="success-info">ğŸ“Š è§†é¢‘å…ƒæ•°æ®å·²åŠ è½½</div>';
        });
        
        video1.addEventListener('canplay', () => {
            status1.innerHTML = '<div class="success-info">âœ… è§†é¢‘å¯ä»¥æ’­æ”¾</div>';
        });
        
        video1.addEventListener('error', (e) => {
            const error = video1.error;
            let errorMessage = 'æœªçŸ¥é”™è¯¯';
            if (error) {
                switch(error.code) {
                    case 1: errorMessage = 'è§†é¢‘åŠ è½½è¢«ä¸­æ–­'; break;
                    case 2: errorMessage = 'ç½‘ç»œé”™è¯¯'; break;
                    case 3: errorMessage = 'è§†é¢‘è§£ç å¤±è´¥'; break;
                    case 4: errorMessage = 'è§†é¢‘æ ¼å¼ä¸æ”¯æŒ'; break;
                }
            }
            status1.innerHTML = `<div class="error-info">âŒ ${errorMessage} (ä»£ç : ${error?.code || 'N/A'})</div>`;
        });
        
        // æµ‹è¯•2: ä½¿ç”¨sourceå…ƒç´ 
        const video2 = document.getElementById('video2');
        const status2 = document.getElementById('status2');
        
        video2.addEventListener('loadstart', () => {
            status2.innerHTML = '<div class="success-info">ğŸ”„ è§†é¢‘å¼€å§‹åŠ è½½</div>';
        });
        
        video2.addEventListener('loadedmetadata', () => {
            status2.innerHTML = '<div class="success-info">ğŸ“Š è§†é¢‘å…ƒæ•°æ®å·²åŠ è½½</div>';
        });
        
        video2.addEventListener('canplay', () => {
            status2.innerHTML = '<div class="success-info">âœ… è§†é¢‘å¯ä»¥æ’­æ”¾</div>';
        });
        
        video2.addEventListener('error', (e) => {
            const error = video2.error;
            let errorMessage = 'æœªçŸ¥é”™è¯¯';
            if (error) {
                switch(error.code) {
                    case 1: errorMessage = 'è§†é¢‘åŠ è½½è¢«ä¸­æ–­'; break;
                    case 2: errorMessage = 'ç½‘ç»œé”™è¯¯'; break;
                    case 3: errorMessage = 'è§†é¢‘è§£ç å¤±è´¥'; break;
                    case 4: errorMessage = 'è§†é¢‘æ ¼å¼ä¸æ”¯æŒ'; break;
                }
            }
            status2.innerHTML = `<div class="error-info">âŒ ${errorMessage} (ä»£ç : ${error?.code || 'N/A'})</div>`;
        });
        
        // æµ‹è¯•3: JavaScriptåŠ¨æ€åˆ›å»º
        const container3 = document.getElementById('video3-container');
        const status3 = document.getElementById('status3');
        
        const video3 = document.createElement('video');
        video3.controls = true;
        video3.preload = 'metadata';
        video3.style.width = '100%';
        video3.style.maxWidth = '600px';
        video3.style.height = 'auto';
        
        const source3 = document.createElement('source');
        source3.src = '/static/videos/test_dataset/test_youtube/test_youtube_youtube.mp4';
        source3.type = 'video/mp4';
        
        video3.appendChild(source3);
        video3.appendChild(document.createTextNode('æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒè§†é¢‘æ’­æ”¾ã€‚'));
        
        container3.appendChild(video3);
        
        video3.addEventListener('loadstart', () => {
            status3.innerHTML = '<div class="success-info">ğŸ”„ è§†é¢‘å¼€å§‹åŠ è½½</div>';
        });
        
        video3.addEventListener('loadedmetadata', () => {
            status3.innerHTML = '<div class="success-info">ğŸ“Š è§†é¢‘å…ƒæ•°æ®å·²åŠ è½½</div>';
        });
        
        video3.addEventListener('canplay', () => {
            status3.innerHTML = '<div class="success-info">âœ… è§†é¢‘å¯ä»¥æ’­æ”¾</div>';
        });
        
        video3.addEventListener('error', (e) => {
            const error = video3.error;
            let errorMessage = 'æœªçŸ¥é”™è¯¯';
            if (error) {
                switch(error.code) {
                    case 1: errorMessage = 'è§†é¢‘åŠ è½½è¢«ä¸­æ–­'; break;
                    case 2: errorMessage = 'ç½‘ç»œé”™è¯¯'; break;
                    case 3: errorMessage = 'è§†é¢‘è§£ç å¤±è´¥'; break;
                    case 4: errorMessage = 'è§†é¢‘æ ¼å¼ä¸æ”¯æŒ'; break;
                }
            }
            status3.innerHTML = `<div class="error-info">âŒ ${errorMessage} (ä»£ç : ${error?.code || 'N/A'})</div>`;
        });
        
        // å¼ºåˆ¶åŠ è½½æ‰€æœ‰è§†é¢‘
        video1.load();
        video2.load();
        video3.load();
        
        console.log('ğŸ§ª æµ‹è¯•é¡µé¢å·²åŠ è½½ï¼Œå¼€å§‹æµ‹è¯•YouTubeè§†é¢‘æ’­æ”¾...');
    </script>
</body>
</html>
